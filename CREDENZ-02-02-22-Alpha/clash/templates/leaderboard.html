<!-- {% comment %} {% extends 'home.html' %}
{% block body %}
<style>
		table, th, td{
			border:  1px solid black;
			border-collapse: collapse;
		}
</style>
	<h1><center>Leaderboard</center></h1>

	<table>
		<tr>
			<th>Rank</th>
			<th>Username</th>
			<th>Total</th>
			<th>Question 1</th>
			<th>Question 2</th>
			<th>Question 3</th>
			<th>Question 4</th>
			<th>Question 5</th>
			<th>Question 6</th>
		</tr>
		{% for result in data %}
		<tr>
			<td>{{forloop.counter}}</td>
			<td>{{result.user.username}}</td>
			<td>{{result.total_score}}</td>
			<td>{{result.ques1}}</td>
			<td>{{result.ques2}}</td>
			<td>{{result.ques3}}</td>
			<td>{{result.ques4}}</td>
			<td>{{result.ques5}}</td>
			<td>{{result.ques6}}</td>
		</tr>
		{% endfor %}
	</table>
	<br>
{%endblock%}

</body>
</html> {% endcomment %} -->

{%load static%}
<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="Your Name" content="Your page" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="{%static 'css/leaderboard.css'%}" />
    <link rel="stylesheet" href="{% static 'css/coding_color.css' %}" />
  </head>

  <body>
    <!-- Navbar goes here -->
    <nav class="navbar navbar-expand-lg navbarr">
      <div class="container-fluid">
        <a class="navbar-brand navvi" href="#" style="padding: 0px"
          ><img src="{% static 'img/clashwhite.png' %}" alt="Clash Logo" height="30px"
        /></a>
        <div class="navbar-brand navvi timer"  style="margin-left: 20px">
          <div class="timer_container">
            <div class=" w-100 d-flex p-0 flex-grow-1" id="countdown"> 
                <span id="hours" class="timeritems"></span> :
                <span id="minutes" class="timeritems"></span> :
                <span id="seconds" class="timeritems"></span>
            </div>
          </div> 
        </div>

        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <i class="fas fa-bars" style="color: white"></i>
        </button>
        <div
          class="collapse navbar-collapse stroke"
          id="navbarSupportedContent"
        >
          <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a
                class="nav-link active navvi"
                aria-current="page"
                href="{% url 'clash-contest' %}"
                style="margin-left: 10px; margin-right: 10px"
                >Question Hub</a
              >
            </li>
            <li class="nav-item ">
              <a class="nav-link active navvi" aria-current="page" href="{%url 'clash-mysub' 1%}"
                  style="margin-left: 10px;margin-right: 10px;">Submissions</a> <!-- correct -->
            </li>
            <li class="nav-item">
              <a class="nav-link navvi" aria-current="page" href="{%url 'clash-home'%}"
                  style="margin-left: 10px;margin-right: 10px;">Instructions</a>
            </li>
            <!-- <li class="nav-item">
              <a
                class="nav-link navvi"
                aria-current="page"
                href="./submissions.html"
                style="margin-left: 10px; margin-right: 10px"
                >Submissions</a
              >
            </li> -->  
<!-- here mention question id for navigating into mysubmissions -->
            <li class="nav-item navvi">
              <a
                class="nav-link navvi"
                style="margin-left: 10px; margin-right: 10px; cursor: pointer"
                data-bs-toggle="modal"
                data-bs-target="#LogoutModal"
                >Logout</a
              >

              <!-- <button type="button" class="btn btn-primary">
                Launch demo modal
              </button> -->

              <!-- Modal -->
              <div
                class="modal fade"
                id="LogoutModal"
                tabindex="-1"
                aria-labelledby="LogoutModalLabel"
                aria-hidden="true"
              >
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="LogoutModalLabel">Alert!</h5>
                      <button
                        type="button"
                        class="btn-close"
                        data-bs-dismiss="modal"
                        aria-label="Close"
                      ></button>
                    </div>
                    <div class="modal-body text-center">
                      Are you sure you want to logout ?
                    </div>
                    <div class="modal-footer">
                      <button
                        type="button"
                        class="btn btn-secondary"
                        data-bs-dismiss="modal"
                      >
                        Cancel
                      </button>
                      <a href="{%url 'logout'%}" class="btn btn-danger">
                        Logout
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            </li>
          </ul>
        </div>
        <a
          class="navbar-brand navvi pisblogo"
          href="#"
          style="padding: 0px; margin-left: 20px"
          ><img src="{%static 'img/pisblogo.png'%}" alt="Clash Logo" height="30px"
        /></a>
      </div>
    </nav>

    <!-- your code goes here -->

    <div class="row maincnt">
      <div class="col-md-3 col-sm-12">
        <div class="card maincard">
          <div
            class="card-header d-flex flex-column justify-content-center align-items-center"
          >
            <p class="circle">U</p>
            {{name}}
          </div>
          <div class="card-body">
            <div class="row first">
              <div class="col-6">
                <div class="card rank">
                  <div class="card-header">Rank</div>
                  <div class="card-body">
                    <h2>{{rank}}</h2>
                  </div>
                </div>
              </div>
              <div class="col-6">
                <div class="card score">
                  <div class="card-header">Score</div>
                  <div class="card-body">
                    <h2>{{score}}</h2>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-9 col-sm-12">
        <div class="container">
			<table class="table">
				<thead style="background-color: #293b5f; color: rgb(255, 255, 255)">
			<tr>
				<th scope="col">Rank</th>
                <th scope="col">Username</th>
                <th scope="col">Q1</th>
                <th scope="col">Q2</th>
                <th scope="col">Q3</th>
                <th scope="col">Q4</th>
                <th scope="col">Q5</th>
                <th scope="col">Q6</th>
                <th scope="col">Total Score</th>
			</tr>
		</thead>
		<tbody>
			<tr>
			<!-- {% for result in data %}
				<td>{{forloop.counter}}</td>
				<td>{{result.user.username}}</td>
				<td>{{result.ques1}}</td>
				<td>{{result.ques2}}</td>
				<td>{{result.ques3}}</td>
				<td>{{result.ques4}}</td>
				<td>{{result.ques5}}</td>
				<td>{{result.ques6}}</td>
				<td>{{result.total_score}}</td>
			  </tr>
			{% endfor %}   -->
      <!-- {{ forloop.counter|add:"2" }} -->
			{% for item in items %}
        <td>{{forloop.counter0|add:items.start_index}}</td>
				<td>{{item.user.username}}</td>
				<td>{{item.ques1}}</td>
				<td>{{item.ques2}}</td>
				<td>{{item.ques3}}</td>
				<td>{{item.ques4}}</td>
				<td>{{item.ques5}}</td>
				<td>{{item.ques6}}</td>
				<td>{{item.total_score}}</td>
			  </tr>
			{% endfor %}        
            </tbody>
          </table>
          <nav aria-label="Page navigation example">
            <div class="pagi-color">
              <ul class="pagination"> 
                {% if items.has_previous %}
                <li class="page-item">
                  <a class="page-link" href="{%url 'clash-leaderboard' %}?page={{items.previous_page_number}}">Previous</a>
                </li>
                {% endif %}

                <li class="page-item">
                  <a class="page-link" href="?page=1">1</a>
                </li>
                {% if items.has_next %}
                <li class="page-item">
                  <a class="page-link" href="?page=2">2</a>
                </li>
                {% endif %}
                {% if items.has_next %}                
                <li class="page-item">
                  <a class="page-link" href="{%url 'clash-leaderboard' %}?page={{items.next_page_number}}">Next</a>
                {% endif %}

                </li>
              </ul>
            </div>
          </nav>
        </div>
      </div>
    </div>
 <!-- jquery -->
  <!-- <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script> -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script>
    var dat=`{{data}}`;
    // console.log(dat);
  
    
  </script>
  <!-- ... -->
  <!-- <script type="text/javascript">  -->
    <footer class="text-center fixed-bottom footerr">
      <div class="container-fluid">
        <div class="footer-text pt-3 pb-3">PISB <span>&copy</span></div>
      </div>
    </footer>
  </body>

  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"
  ></script>

  <script>
    //Timer
    (function () {
    const second = 1000,
          minute = second * 60,
          hour = minute * 60,
          day = hour * 24;
  
 
    
    const countDown = new Date('{{time}}').getTime(),
        x = setInterval(function() {    
  
          const now = new Date().getTime(),
                distance = countDown - now;
  
        //   document.getElementById("days").innerText = Math.floor(distance / (day)),
            document.getElementById("hours").innerText = Math.floor((distance % (day)) / (hour)),
            document.getElementById("minutes").innerText = Math.floor((distance % (hour)) / (minute)),
            document.getElementById("seconds").innerText = Math.floor((distance % (minute)) / second);
  
          //do something later when date is reached
          if (distance < 0) {
            document.getElementById("headline").innerText = "";
            document.getElementById("countdown").style.display = "";
            document.getElementById("content").style.display = "";
            clearInterval(x);
            location.href="{%url 'logout'%}";
          }
          //seconds
        }, 0)
    }());
</script>

</html>
